(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["subscribe"],{"1c6b":function(e,t,s){},"45a8":function(e,t,s){"use strict";s.r(t);var r=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{ref:"product",staticClass:"subscribe"},[r("div",{directives:[{name:"show",rawName:"v-show",value:!e.$store.state.loadshow,expression:"!$store.state.loadshow"}],staticClass:"postlist"},[0==e.posts.length?r("div",[e._v("You have not subscribe any users, head to the "),r("router-link",{attrs:{to:"/home/search"}},[e._v("Explore page")])],1):e._e(),e._l(e.posts,(function(t){return r("div",{key:t.id,staticClass:"card"},[r("div",{staticClass:"title"},[r("img",{staticClass:"profile",staticStyle:{"border-radius":"50%"},attrs:{src:e.cloudinaryURL+t.username+".jpg",alt:"user img",width:"25",height:"25"}}),r("div",{staticClass:"profile"},[e._v(e._s(t.username))]),r("img",{staticClass:"dot",attrs:{src:s("0726"),alt:""},on:{click:function(s){return e.menu(t)}}})]),r("div",{directives:[{name:"show",rawName:"v-show",value:t.menu,expression:"post.menu"}],staticClass:"menu"},[r("div",{staticClass:"xyz",on:{click:function(s){return e.btnsub("/user/unfollow",t.username)}}},[e._v("Unfollow")]),r("div",{staticClass:"xyz",on:{click:function(s){return e.btnsub("/user/block",t.username)}}},[e._v("Block")])]),r("div",{staticClass:"pic"},[r("img",{staticStyle:{width:"100%",height:"300px"},attrs:{src:t.path,alt:"user post"}})]),r("div",{staticClass:"iconlist"},[r("img",{directives:[{name:"show",rawName:"v-show",value:!t.heart,expression:"!post.heart"}],staticClass:"icon",attrs:{src:s("626a"),alt:"share",width:"20",height:"20"},on:{click:function(s){return e.like(t)}}}),e._v(" "),r("img",{directives:[{name:"show",rawName:"v-show",value:t.heart,expression:"post.heart"}],staticClass:"icon",attrs:{src:s("077f"),alt:"share",width:"20",height:"20"},on:{click:function(s){return e.like(t)}}}),r("div",{staticClass:"icon"},[e._v(e._s(t.likedBy.length)+" likes")]),r("img",{staticClass:"icon",attrs:{src:s("680d"),alt:"share",width:"20",height:"20"}})]),r("div",{staticClass:"describe"},[r("p",{staticStyle:{marginLeft:"10px",marginBottom:"10px",marginTop:"3px"}},[e._v(" "+e._s(t.caption)+" ")])])])}))],2),r("Load-com",{directives:[{name:"show",rawName:"v-show",value:e.$store.state.loadshow,expression:"$store.state.loadshow"}]})],1)},a=[],n=(s("4de4"),s("4160"),s("caad"),s("ac1f"),s("2532"),s("5319"),s("159b"),s("96cf"),s("1da1")),i=s("8137"),o=s("f40f"),c={data:function(){return{posts:[],cloudinaryURL:"https://res.cloudinary.com/hkeunji7l/",unheart:"@/img/heart.svg"}},computed:{username:function(){return this.$store.state.username},token:function(){return this.$store.state.token}},created:function(){var e=this;return Object(n["a"])(regeneratorRuntime.mark((function t(){var s;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,e.$store.state.loadshow=!0,t.next=4,Object(i["i"])(e.$store.state.username);case 4:s=t.sent,s.forEach((function(t){t.heart=t.likedBy.includes(e.$store.state.username),t.menu=!1})),e.posts=s,e.$store.commit("setLoading"),e.$nextTick((function(){e.initScroll()})),t.next=13;break;case 11:t.prev=11,t.t0=t["catch"](0);case 13:case"end":return t.stop()}}),t,null,[[0,11]])})))()},methods:{initScroll:function(){var e=this.$refs.product;this.product=new o["a"](e,{click:!0,mouseWheel:!0})},menu:function(e){e.menu=!e.menu},btnsub:function(e,t){var s=this;return Object(n["a"])(regeneratorRuntime.mark((function r(){var a;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return r.prev=0,r.next=3,Object(i["a"])(e,t,s.$store.state.token);case 3:a=r.sent,"Authentication Failed."==a?(localStorage.clear(),s.$store.commit("setUser"),s.$router.replace({path:"/"})):(s.posts=s.posts.filter((function(e){return e.username!==t})),s.$nextTick((function(){s.product&&s.product.refresh()}))),r.next=11;break;case 7:r.prev=7,r.t0=r["catch"](0),s.errormessage=r.t0,s.error=!0;case 11:case"end":return r.stop()}}),r,null,[[0,7]])})))()},like:function(e){var t=this;return Object(n["a"])(regeneratorRuntime.mark((function s(){var r,a;return regeneratorRuntime.wrap((function(s){while(1)switch(s.prev=s.next){case 0:if(!e.heart){s.next=9;break}return e.heart=!e.heart,e.likedBy=e.likedBy.filter((function(e){return e!==t.username})),s.next=5,Object(i["e"])("post/unlike",e._id,t.token);case 5:r=s.sent,"Authentication Failed."===r&&(sessionStorage.clear(),t.$store.commit("setUser"),t.$router.replace({path:"/"})),s.next=15;break;case 9:return e.heart=!e.heart,e.likeBy=e.likedBy.push(t.username),s.next=13,Object(i["e"])("post/like",e._id,t.token);case 13:a=s.sent,"Authentication Failed."===a&&(sessionStorage.clear(),t.$store.commit("setUser"),t.$router.replace({path:"/"}));case 15:case"end":return s.stop()}}),s)})))()}}},u=c,l=(s("a910"),s("2877")),h=Object(l["a"])(u,r,a,!1,null,"0a896d38",null);t["default"]=h.exports},a910:function(e,t,s){"use strict";s("1c6b")}}]);
//# sourceMappingURL=subscribe.50e708da.js.map