{"version":3,"sources":["webpack:///./src/views/subviews/Subscribe.vue?f2d0","webpack:///src/views/subviews/Subscribe.vue","webpack:///./src/views/subviews/Subscribe.vue?08d9","webpack:///./src/views/subviews/Subscribe.vue","webpack:///./src/views/subviews/Subscribe.vue?3fbf"],"names":["render","_vm","this","_h","$createElement","_c","_self","ref","staticClass","directives","name","rawName","value","$store","state","loadshow","expression","posts","length","_v","attrs","_e","_l","post","key","id","staticStyle","cloudinaryURL","username","_s","on","$event","menu","btnsub","path","heart","like","likedBy","caption","staticRenderFns","data","unheart","computed","token","methods","initScroll","product","click","mouseWheel","component"],"mappings":"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","file":"js/subscribe.50e708da.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{ref:\"product\",staticClass:\"subscribe\"},[_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(!_vm.$store.state.loadshow),expression:\"!$store.state.loadshow\"}],staticClass:\"postlist\"},[(_vm.posts.length == 0)?_c('div',[_vm._v(\"You have not subscribe any users, head to the \"),_c('router-link',{attrs:{\"to\":\"/home/search\"}},[_vm._v(\"Explore page\")])],1):_vm._e(),_vm._l((_vm.posts),function(post){return _c('div',{key:post.id,staticClass:\"card\"},[_c('div',{staticClass:\"title\"},[_c('img',{staticClass:\"profile\",staticStyle:{\"border-radius\":\"50%\"},attrs:{\"src\":_vm.cloudinaryURL + post.username + '.jpg',\"alt\":\"user img\",\"width\":\"25\",\"height\":\"25\"}}),_c('div',{staticClass:\"profile\"},[_vm._v(_vm._s(post.username))]),_c('img',{staticClass:\"dot\",attrs:{\"src\":require(\"@/img/obium.svg\"),\"alt\":\"\"},on:{\"click\":function($event){return _vm.menu(post)}}})]),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(post.menu),expression:\"post.menu\"}],staticClass:\"menu\"},[_c('div',{staticClass:\"xyz\",on:{\"click\":function($event){return _vm.btnsub('/user/unfollow',post.username)}}},[_vm._v(\"Unfollow\")]),_c('div',{staticClass:\"xyz\",on:{\"click\":function($event){return _vm.btnsub('/user/block',post.username)}}},[_vm._v(\"Block\")])]),_c('div',{staticClass:\"pic\"},[_c('img',{staticStyle:{\"width\":\"100%\",\"height\":\"300px\"},attrs:{\"src\":post.path,\"alt\":\"user post\"}})]),_c('div',{staticClass:\"iconlist\"},[_c('img',{directives:[{name:\"show\",rawName:\"v-show\",value:(!post.heart),expression:\"!post.heart\"}],staticClass:\"icon\",attrs:{\"src\":require(\"@/img/heart.svg\"),\"alt\":\"share\",\"width\":\"20\",\"height\":\"20\"},on:{\"click\":function($event){return _vm.like(post)}}}),_vm._v(\" \"),_c('img',{directives:[{name:\"show\",rawName:\"v-show\",value:(post.heart),expression:\"post.heart\"}],staticClass:\"icon\",attrs:{\"src\":require(\"@/img/like.svg\"),\"alt\":\"share\",\"width\":\"20\",\"height\":\"20\"},on:{\"click\":function($event){return _vm.like(post)}}}),_c('div',{staticClass:\"icon\"},[_vm._v(_vm._s(post.likedBy.length)+\" likes\")]),_c('img',{staticClass:\"icon\",attrs:{\"src\":require(\"@/img/share.svg\"),\"alt\":\"share\",\"width\":\"20\",\"height\":\"20\"}})]),_c('div',{staticClass:\"describe\"},[_c('p',{staticStyle:{\"marginLeft\":\"10px\",\"marginBottom\":\"10px\",\"marginTop\":\"3px\"}},[_vm._v(\" \"+_vm._s(post.caption)+\" \")])])])})],2),_c('Load-com',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.$store.state.loadshow),expression:\"$store.state.loadshow\"}]})],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div class=\"subscribe\" ref=\"product\">\r\n    <div class=\"postlist\" v-show=\"!$store.state.loadshow\">\r\n      <div v-if=\"posts.length == 0\">You have not subscribe any users, head to the <router-link to=\"/home/search\">Explore page</router-link></div>\r\n      <div class=\"card\" v-for=\"post in posts\" :key=\"post.id\">\r\n        <div class=\"title\">\r\n          <img\r\n            :src=\"cloudinaryURL + post.username + '.jpg'\"\r\n            alt=\"user img\"\r\n            width=\"25\"\r\n            height=\"25\"\r\n            style=\"border-radius: 50%\"\r\n            class=\"profile\"\r\n          />\r\n          <div class=\"profile\">{{ post.username }}</div>\r\n          <img src=\"@/img/obium.svg\" alt=\"\" class=\"dot\" @click=\"menu(post)\" />\r\n        </div>\r\n\r\n        <div v-show='post.menu' class=\"menu\" >\r\n            <div class=\"xyz\" @click=\"btnsub('/user/unfollow',post.username)\">Unfollow</div>\r\n            <div class=\"xyz\" @click=\"btnsub('/user/block',post.username)\">Block</div>\r\n        </div>\r\n\r\n        <div class=\"pic\">\r\n          <img\r\n            :src=\"post.path\"\r\n            alt=\"user post\"\r\n            style=\"width: 100%; height: 300px\"\r\n          />\r\n        </div>\r\n        <div class=\"iconlist\">\r\n          <img v-show=\"!post.heart\" src=@/img/heart.svg alt=\"share\" width=\"20\"\r\n          height=\"20\" class=\"icon\" @click=\"like(post)\" /> <img\r\n          v-show=\"post.heart\" src=@/img/like.svg alt=\"share\" width=\"20\"\r\n          height=\"20\" class=\"icon\" @click=\"like(post)\" />\r\n          <div class=\"icon\">{{ post.likedBy.length }} likes</div>\r\n          <img\r\n            src=\"@/img/share.svg\"\r\n            alt=\"share\"\r\n            width=\"20\"\r\n            height=\"20\"\r\n            class=\"icon\"\r\n          />\r\n        </div>\r\n        <div class=\"describe\">\r\n          <p style=\"marginLeft: 10px; marginBottom: 10px; marginTop: 3px\">\r\n            {{ post.caption }}\r\n          </p>\r\n        </div>\r\n      </div>\r\n    </div>\r\n    <Load-com v-show=\"$store.state.loadshow\"></Load-com>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport { subscriberpost, likepost } from \"@/network/api\";\r\nimport BScroll from \"better-scroll\";\r\nimport { bf } from \"@/network/api\";\r\n\r\nexport default {\r\n  data() {\r\n    return {\r\n      posts: [],\r\n      cloudinaryURL: \"https://res.cloudinary.com/hkeunji7l/\",\r\n      unheart: \"@/img/heart.svg\",\r\n    };\r\n  },\r\n  computed: {\r\n    username() {\r\n      return this.$store.state.username;\r\n    },\r\n    token() {\r\n      return this.$store.state.token;\r\n    },\r\n  },\r\n  async created() {\r\n    try {\r\n      this.$store.state.loadshow = true\r\n      let result = await subscriberpost(this.$store.state.username);\r\n      result.forEach((element) => {\r\n        element.heart = element.likedBy.includes(this.$store.state.username);\r\n        element.menu = false;\r\n      });\r\n      this.posts = result;\r\n      this.$store.commit('setLoading')\r\n\r\n      this.$nextTick(() => {\r\n        this.initScroll();\r\n      });\r\n    } catch (error) {}\r\n  },\r\n  methods: {\r\n    initScroll() {\r\n      let product = this.$refs.product;\r\n      this.product = new BScroll(product, {\r\n        click: true,\r\n        mouseWheel: true,\r\n      });\r\n    },\r\n\r\n    menu(post) {\r\n      post.menu = !post.menu\r\n    },\r\n\r\n    async btnsub(url, username) {\r\n      try {\r\n        let result = await bf(url, username, this.$store.state.token)\r\n        if(result == 'Authentication Failed.') {\r\n          localStorage.clear()\r\n          this.$store.commit('setUser')\r\n          this.$router.replace({\r\n            path: \"/\",\r\n          });\r\n        }else {\r\n          this.posts = this.posts.filter(item => item.username !== username)\r\n          this.$nextTick(() => {\r\n            if(this.product) {\r\n              this.product.refresh()\r\n            }\r\n          });\r\n        }\r\n      } catch (error) {\r\n          this.errormessage = error;\r\n          this.error = true;\r\n      }\r\n    },\r\n\r\n    async like(post) {\r\n      if (post.heart) {\r\n        post.heart = !post.heart;\r\n        post.likedBy = post.likedBy.filter((name) => name !== this.username);\r\n        let result = await likepost(\"post/unlike\", post._id, this.token);\r\n        if (result === \"Authentication Failed.\") {\r\n          sessionStorage.clear();\r\n          this.$store.commit(\"setUser\");\r\n          this.$router.replace({\r\n            path: \"/\",\r\n          });\r\n        }\r\n      } else {\r\n        post.heart = !post.heart;\r\n        post.likeBy = post.likedBy.push(this.username);\r\n        let result = await likepost(\"post/like\", post._id, this.token);\r\n        if (result === \"Authentication Failed.\") {\r\n          sessionStorage.clear();\r\n          this.$store.commit(\"setUser\");\r\n          this.$router.replace({\r\n            path: \"/\",\r\n          });\r\n        }\r\n      }\r\n    },\r\n  },\r\n};\r\n</script>\r\n<style scoped>\r\n.subscribe {\r\n  height: 430px;\r\n  overflow: hidden;\r\n}\r\n\r\n.postlist {\r\n  display: flex;\r\n  flex-direction: column;\r\n}\r\n\r\n.card {\r\n  box-shadow: 0px 2px 5px rgba(0, 0, 0, 0.25);\r\n  margin-top: 10px;\r\n}\r\n\r\n.title {\r\n  display: flex;\r\n  align-items: center;\r\n  padding-right: 10px;\r\n  margin-bottom: 5px;\r\n}\r\n\r\n.dot {\r\n  margin-left: auto;\r\n  cursor: pointer;\r\n}\r\n\r\n.profile {\r\n  margin-left: 10px;\r\n  margin-top: 10px;\r\n}\r\n\r\n.pic {\r\n  width: 100%;\r\n  height: 300px;\r\n}\r\n\r\n.iconlist {\r\n  display: flex;\r\n  flex-direction: row;\r\n  align-items: center;\r\n}\r\n\r\n.icon {\r\n  margin-left: 10px;\r\n  margin-top: 10px;\r\n  cursor: pointer;\r\n}\r\n\r\n.menu {\r\n  display: flex;\r\n  text-align: center;\r\n  flex-direction: row;\r\n  background-color: #68E3AC;\r\n}\r\n\r\n.xyz {\r\n  margin: 0 auto;\r\n  cursor: pointer;\r\n}\r\n</style>","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Subscribe.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Subscribe.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Subscribe.vue?vue&type=template&id=0a896d38&scoped=true&\"\nimport script from \"./Subscribe.vue?vue&type=script&lang=js&\"\nexport * from \"./Subscribe.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Subscribe.vue?vue&type=style&index=0&id=0a896d38&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"0a896d38\",\n  null\n  \n)\n\nexport default component.exports","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Subscribe.vue?vue&type=style&index=0&id=0a896d38&scoped=true&lang=css&\""],"sourceRoot":""}